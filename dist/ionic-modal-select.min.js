!function(e){function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";t(1)},function(e,n,t){"use strict";function o(e){return function(n,t,o){var i=n.$watch(function(e){return e.$eval(o.compile)},function(a){t.html(a),e(t.contents())(n),"true"===o.compileOnce&&i()})}}function i(e,n,o,i,s,l){var r=t(2),c=t(3);return{restrict:"A",require:"ngModel",scope:{initialOptions:"=options",optionGetter:"&",searchFilters:"=searchFilters",searchProperties:"=",onSelect:"&",onSearch:"&",onReset:"&",onClose:"&"},link:function(t,u,d,p,h){function m(e){e=e||[],C?(k=e.map(function(e,n){return[n,angular.copy(e)]}),t.options=angular.copy(k)):(k=angular.copy(e),t.options=angular.copy(e))}function f(){"true"===d.useCollectionRepeat?v=!1:"false"===d.useCollectionRepeat?v=!0:"undefined"!=typeof t.options&&(v=!!(t.options.length<g)),t.ui.shortList=v}var v=!0,g=d.shortListBreak?parseInt(d.shortListBreak):10,b=d.optionProperty,S=d.optionGetter,y="false"!==d.clearSearchOnSelect,w=!!t.searchProperties&&t.searchProperties,C=!!d.multiple;C&&(t.isChecked={});var V=d.multipleNullValue?t.$eval(d.multipleNullValue):[];t.ui={modalTitle:d.modalTitle||"Select an option",okButton:d.okButton||"OK",hideReset:"true"===d.hideReset,resetButton:d.resetButton||"Reset",cancelButton:d.cancelButton||"Cancel",loadListMessage:d.loadListMessage||"Loading",modalClass:d.modalClass||"",headerFooterClass:d.headerFooterClass||"bar-stable",value:null,selectedClass:d.selectedClass||"option-selected",itemClass:d.itemClass||"item item-text-wrap",searchTemplate:d.searchTemplate||(C?r:c),hasSearch:"true"===d.hasSearch,searchValue:"",searchPlaceholder:d.searchPlaceholder||"Search",subHeaderClass:d.subHeaderClass||"bar-stable",cancelSearchButton:d.cancelSearchButton||"Clear"};var k=[];if(t.options=[],d.optionsExpression){var $=d.optionsExpression,L=$.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!L)throw new Error("collection-repeat expected expression in form of '_item_ in _collection_[ track by _id_]' but got '"+d.optionsExpression+"'.");var x=L[2],T=s(x),B=u.scope();t.$watch(function(){return T(B)},function(e,n){m(e),f()},!0)}else t.$watchCollection("initialOptions",function(e){m(e),f()});var F=u[0].querySelector(".option");if(!F)throw new Error({name:"modalSelectError:noOptionTemplate",message:'When using modalSelect directive you must include an element with class "option"\n\t\t\t\t\t\t to provide a template for your select options.',toString:function(){return this.name+" "+this.message}});t.inner=angular.element(F).html(),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode.removeChild(this)}),angular.element(F).remove();var M=u[0].querySelector(".not-found");M&&(t.notFound=angular.element(M).html(),angular.element(M).remove()),p.$render=function(){t.ui.value=p.$viewValue};var R=t.getSelectedValue=function(e){var n=null;return null===e||void 0===e?e:S?t.optionGetter({option:e}):n=b?e[b]:e};t.setOption=function(e){var n=p.$viewValue,o=R(e);p.$setViewValue(o),p.$render(),t.onSelect&&t.onSelect({newValue:o,oldValue:n}),t.modal.hide().then(function(){t.showList=!1,t.ui.hasSearch&&y&&(t.ui.searchValue="")})},t.setFilter=function(e){angular.forEach(t.searchFilters,function(n){n.id==e?n.active=!n.active:n.active=!1}),t.onSearch&&t.onSearch({query:t.ui.searchValue})},t.unsetValue=function(){o(function(){p.$setViewValue(""),p.$render(),t.modal.hide(),t.showList=!1,t.onReset&&angular.isFunction(t.onReset)&&t.onReset()})},t.setValues=function(){var e=[];angular.forEach(t.isChecked,function(n,t){n&&e.push(k[t][1])});var n=p.$viewValue,o=e.map(function(e){return R(e)});p.$setViewValue(o),p.$render(),t.onSelect&&t.onSelect({newValue:o,oldValue:n}),t.modal.hide().then(function(){t.showList=!1,t.ui.hasSearch&&y&&(t.ui.searchValue="")})},t.unsetValues=function(){o(function(){p.$setViewValue(V),p.$render(),t.isChecked={},t.modal.hide(),t.showList=!1,t.onReset&&angular.isFunction(t.onReset)&&t.onReset()})},t.closeModal=function(){t.modal.hide().then(function(){t.showList=!1})},t.compareValues=function(e,n){return angular.equals(e,n)};var E=null;d.searchTemplate?t.modal=e.fromTemplate(l.get(d.searchTemplate),{scope:t}):(C?n.modalTemplateMultipleUrl:n.modalTemplateUrl)?e.fromTemplateUrl(C?n.modalTemplateMultipleUrl:n.modalTemplateUrl,{scope:t}).then(function(e){t.modal=e}):(E=C?r:c,t.modal=e.fromTemplate(E,{scope:t}));var O=null;t.$on("$destroy",function(){O&&(O(),O=null),t.modal.remove()}),t.onClose&&angular.isFunction(t.onClose)&&(O=t.$on("modal.hidden",function(){t.onClose()})),u.on("click",function(){v?(t.showList=!0,t.modal.show()):t.modal.show().then(function(){t.showList=!0,t.ui.shortList=v})}),t.ui.hasSearch&&(t.$watch("ui.searchValue",function(e){var n;if(n=C?k.map(function(e){return e[1]}):k,d.onSearch)t.onSearch({query:e});else{var o=i("filter")(n,e,function(e,n){if(!e)return!1;if(w){if("object"==("undefined"==typeof e?"undefined":a(e)))for(var t=0;t<w.length;t++)if(e[w[t]]&&e[w[t]].toLowerCase().indexOf(n.toLowerCase())>=0)return!0;return!1}return e.toString().toLowerCase().indexOf(n.toLowerCase())>=0}),s=t.options.length;if(C){var l=[];angular.forEach(o,function(e){var n=k.find(function(n){return n[1]==e});n&&l.push(n)}),t.options=l}else t.options=o;s!=t.options.length}}),t.clearSearch=function(){t.ui.searchValue=""}),t.copyOpt=function(e){return angular.copy(e)};var U=function(){if(C){var e=p.$viewValue;if(!e||0==e.length)return;t.options.forEach(function(n,o){e.forEach(function(e,o){angular.equals(e,n[1])&&(t.isChecked[n[0]]=!0)})})}};o(function(){U(),p.$render()})}}}o.$inject=["$compile"],i.$inject=["$ionicModal","modalSelect","$timeout","$filter","$parse","$templateCache"];var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*!
	 * Copyright 2015 Inmagik SRL.
	 * http://www.inmagik.com/
	 *
	 * ionic-modal-select, v1.3.2
	 * Modal select directive for Ionic framework.
	 *
	 * By @bianchimro
	 *
	 * Licensed under the MIT license. Please see LICENSE for more information.
	 *
	 */
angular.module("ionic-modal-select",[]).provider("modalSelect",function(){this.setTemplateMultipleUrl=function(e){this.modalTemplateMultipleUrl=e},this.setTemplateUrl=function(e){this.modalTemplateUrl=e},this.$get=function(){return this}}).directive("compile",o).directive("modalSelect",i)},function(e,n){e.exports=' <ion-modal-view class="ionic-select-modal" ng-class="::ui.modalClass">\n\n    <ion-header-bar ng-class="::ui.headerFooterClass">\n      <h1 class="title">{{::ui.modalTitle}}</h1>\n    </ion-header-bar>\n\n    <div class="bar bar-subheader item-input-inset" ng-class="::ui.subHeaderClass" ng-if="ui.hasSearch">\n      <label class="item-input-wrapper">\n        <i class="icon ion-ios-search placeholder-icon"></i>\n        <input type="search" placeholder="{{::ui.searchPlaceholder}}" ng-model="ui.searchValue">\n      </label>\n      <button type="button" class="button button-clear" ng-click="clearSearch()">\n        {{ ui.cancelSearchButton }}\n      </button>\n    </div>\n\n    <ion-content class="has-header" ng-class="{\'has-subheader\':ui.hasSearch}">\n    <div class="text-center" ng-if="!ui.shortList && !showList" style="padding-top:40px;">\n        <h4 class="muted">{{::ui.loadListMessage}}</h4>\n        <p>\n            <ion-spinner></ion-spinner>\n        </p>\n    </div>\n\n    <div ng-if="showList">\n        <!--collection-repeat mode -->\n        <!-- not working right now -->\n        <!--\n        <div ng-if="!ui.shortList" >\n            <div class="list" class="animate-if" >\n                <div\n                    class="item item-checkbox" ng-class="ui.itemClass"\n                     collection-repeat="optionm in options track by $index">\n                    <label class="checkbox">\n                        <input type="checkbox" ng-model="isChecked[optionm[0]]">\n                    </label>\n\n                    <div compile="inner" ng-init="option=optionm[1]" compile-once="false"></div>\n\n                </div>\n            </div>\n        </div>\n        -->\n\n        <!-- ng-repeat mode -->\n        <div ng-if="ui.shortList || true">\n            <div class="list">\n                <div\n                  class="item item-checkbox" ng-class="ui.itemClass"\n                  ng-repeat="optionm in options track by optionm[0]">\n                    <label class="checkbox">\n                        <input type="checkbox" ng-model="isChecked[optionm[0]]">\n                    </label>\n                    <div ng-init="option=optionm[1]" compile="inner" compile-once="true"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    </ion-content>\n    <ion-footer-bar ng-class="::ui.headerFooterClass">\n        <button class="button button-stable" ng-click="closeModal()">{{ui.cancelButton}}</button>\n        <div class="title" style="padding-top:6px">\n            <button class="button button-navbar" ng-click="setValues()">{{ui.okButton}}</button>\n        </div>\n        <button ng-if="::!ui.hideReset" class="button button-stable" ng-click="unsetValues()">{{ui.resetButton}}</button>\n    </ion-footer-bar>\n</ion-modal-view>\n'},function(e,n){e.exports=' <ion-modal-view class="ionic-select-modal" ng-class="::ui.modalClass">\n\n    <ion-header-bar ng-class="::ui.headerFooterClass">\n      <h1 class="title">{{::ui.modalTitle}}</h1>\n    </ion-header-bar>\n\n    <div class="bar bar-subheader item-input-inset" ng-class="::ui.subHeaderClass" ng-if="ui.hasSearch">\n      <label class="item-input-wrapper">\n        <i class="icon ion-ios-search placeholder-icon"></i>\n        <input type="search" placeholder="{{::ui.searchPlaceholder}}" ng-model="ui.searchValue">\n      </label>\n      <button type="button" class="button button-clear" ng-click="clearSearch()">\n        {{ ui.cancelSearchButton }}\n      </button>\n    </div>\n\n    <ion-content class="has-header" ng-class="{\'has-subheader\':ui.hasSearch}">\n        <div class="text-center" ng-if="!ui.shortList && !showList" style="padding-top:40px;">\n            <h4 class="muted">{{::ui.loadListMessage}}</h4>\n            <p>\n                <ion-spinner></ion-spinner>\n            </p>\n        </div>\n        <div ng-if="showList">\n            <div ng-if="!ui.shortList">\n                <div class="list" ng-if="showList" class="animate-if">\n                    <div\n                      ng-class="{ \'{{::ui.itemClass}}\' : true, \'{{::ui.selectedClass}}\': compareValues(getSelectedValue(option), ui.value) }"\n                      collection-repeat="option in options track by $index"\n                      ng-click="setOption(option)"\n                      ng-class="{\'{{::ui.selectedClass}}\': compareValues(getSelectedValue(option), ui.value) }">\n                        <div compile="inner" compile-once="true"></div>\n                    </div>\n                </div>\n            </div>\n            <div ng-if="ui.shortList">\n                <div class="list">\n                    <div\n                      ng-repeat="option in options track by $index"\n                      ng-click="setOption(option)"\n                      ng-class="{ \'{{::ui.itemClass}}\' : true, \'{{::ui.selectedClass}}\': compareValues(getSelectedValue(option), ui.value) }">\n                        <div compile="inner" compile-once="true"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div ng-if="notFound && options.length == 0">\n            <div compile="notFound" compile-once="true" ng-click="closeModal()"></div>\n        </div>\n\n    </ion-content>\n\n    <ion-footer-bar ng-class="::ui.headerFooterClass">\n        <button type="button" class="button button-stable modal-select-close-button" ng-click="closeModal()">{{ui.cancelButton}}</button>\n        <button type="button" ng-if="::!ui.hideReset" class="button button-stable" ng-click="unsetValue()">{{ui.resetButton}}</button>\n    </ion-footer-bar>\n\n</ion-modal-view>\n'}]);
//# sourceMappingURL=ionic-modal-select.min.js.map